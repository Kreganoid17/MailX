@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor

@model IEnumerable<Mail_X.Models.HomePage>

<link rel="stylesheet" href="/css/Theme.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<div>

    @Html.Partial("_NavBar")

</div>

<body>

 
    <div class = "mt-4">

        <table class="text-center w-100">
            <thead class="thead-dark" style = "background-color:lightblue">
                <tr>
                    <th scope="col">Form ID</th>
                    <th scope="col">Form Name</th>
                    <th scope="col">Date Created</th>
                    <th scope="col">Status</th>
                    <th scope="col">Properties</th>
               </tr>
           </thead>
        </table>

        <table class="text-center w-100" id = "myTable">
            
            <tbody>
               
                @foreach (var item in Model)
                {
                    
                    <tr>
                        <td>@item.FormID</td>
                        <td>@item.FormName</td>
                        <td>@item.FDate</td>
                        <td>@item.Status</td>
                        <td>

                            <div style = "display:flex;">

                            <div style = "flex:1;">

                                @using (@Html.BeginForm("ViewDoc","HomePage", new {id = @item.FormID}))
                                {
                                    
                                    <button type = "submit" class = "fa fa-eye" style = "border:0;background-color:#ffffff;color:#0D6EFD;"></button>

                                }

                            </div>

                            <div style = "flex:1;">

                                @using (@Html.BeginForm("SignOff","HomePage", new { id = @item.FormID}))
                                {
                                    
                                    <button type = "submit" class = "fa fa-pencil" style = "border:0; background-color:#ffffff;"></button>

                                }


                                </div>

                                    @{
                                        if (@item.Status != "Done")
                                        {
                                            
                                            <div style = "flex:1;">

                                            @using (@Html.BeginForm("MarkAsDone","HomePage", new {ID = @item.FormID}))
                                            {
                                    
                                                <button type = "submit" class = "fa fa-check" style = "border:0;background-color:#ffffff; color:#82954B;"></button>

                                            }

                                             </div>

                                        }

                            
                                      }

                            

                            </div>
                                
                            
                        </td>
                    </tr>

                }

            </tbody>
</table>

    </div>

    <h1>this will be the home page..... (under construction)</h1>




</body>


    <script type = "text/javascript">
    
        var DeleteID;

        function ShowModal(ID){
        
            document.getElementById("modal_body").innerHTML = "are you sure you want to delete record with from ID: " + ID;

            DeleteID = ID;

            $("#confirmModal").modal();

        
        }

        function DeleteForm(){
        
            window.location.href = '@Url.Action("DeleteForm", "HomePage")/' + parseInt(DeleteID);

        }
    
    </script>



@if(TempData["Message"] != null){
                
                <script>

                    alert("@TempData["Message"]");

                </script>

            } 